# Generated by Fabric8 CRDGenerator, manual edits might get overwritten!
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "tests.microcks.io"
spec:
  group: "microcks.io"
  names:
    kind: "Test"
    plural: "tests"
    shortNames:
    - "test"
    singular: "test"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              filteredOperations:
                description: "An optional list of filtered operations to test"
                items:
                  type: "string"
                type: "array"
              oAuth2Context:
                description: "The OAuth2 context to use for this test"
                properties:
                  clientId:
                    description: "The OAuth2 client ID"
                    type: "string"
                  clientIdFrom:
                    description: "A reference to a namespace Kubernetes Secret to\
                      \ get the OAuth2 client ID value from"
                    properties:
                      secretKey:
                        description: "The key in referenced Secret to get the value\
                          \ from"
                        type: "string"
                      secretRef:
                        description: "The name of a namespace Kubernetes Secret to\
                          \ get value from"
                        type: "string"
                    type: "object"
                  clientSecret:
                    description: "The OAuth2 client Secret"
                    type: "string"
                  clientSecretFrom:
                    description: "A reference to a namespace Kubernetes Secret to\
                      \ get the OAuth2 client Secret value from"
                    properties:
                      secretKey:
                        description: "The key in referenced Secret to get the value\
                          \ from"
                        type: "string"
                      secretRef:
                        description: "The name of a namespace Kubernetes Secret to\
                          \ get value from"
                        type: "string"
                    type: "object"
                  grantType:
                    description: "The OAuth Grant Type flow to apply for getting the\
                      \ token"
                    type: "string"
                  password:
                    description: "Optional. The password to use for the OAuth2 client"
                    type: "string"
                  passwordFrom:
                    description: "Optional. A reference to a a namespace Kubernetes\
                      \ Secret to get the password to use for the OAuth2 client"
                    properties:
                      secretKey:
                        description: "The key in referenced Secret to get the value\
                          \ from"
                        type: "string"
                      secretRef:
                        description: "The name of a namespace Kubernetes Secret to\
                          \ get value from"
                        type: "string"
                    type: "object"
                  refreshToken:
                    description: "Optional. The refreshToken to use for obtaining\
                      \ a new OAuth2 token"
                    type: "string"
                  refreshTokenFrom:
                    description: "Optional. A reference to a a namespace Kubernetes\
                      \ Secret to get the refreshToken to use for obtaining a new\
                      \ OAuth2 token"
                    properties:
                      secretKey:
                        description: "The key in referenced Secret to get the value\
                          \ from"
                        type: "string"
                      secretRef:
                        description: "The name of a namespace Kubernetes Secret to\
                          \ get value from"
                        type: "string"
                    type: "object"
                  scopes:
                    description: "Optional. The OAuth2 scopes to use for negotiating\
                      \ the token"
                    type: "string"
                  tokenUri:
                    description: "The IDP URI where to get the OAuth2 token"
                    type: "string"
                  username:
                    description: "Optional. The username to use for the OAuth2 client"
                    type: "string"
                  usernameFrom:
                    description: "Optional. A reference to a a namespace Kubernetes\
                      \ Secret to get the username to use for the OAuth2 client"
                    properties:
                      secretKey:
                        description: "The key in referenced Secret to get the value\
                          \ from"
                        type: "string"
                      secretRef:
                        description: "The name of a namespace Kubernetes Secret to\
                          \ get value from"
                        type: "string"
                    type: "object"
                type: "object"
              oauth2Context:
                properties:
                  clientId:
                    description: "The OAuth2 client ID"
                    type: "string"
                  clientIdFrom:
                    description: "A reference to a namespace Kubernetes Secret to\
                      \ get the OAuth2 client ID value from"
                    properties:
                      secretKey:
                        description: "The key in referenced Secret to get the value\
                          \ from"
                        type: "string"
                      secretRef:
                        description: "The name of a namespace Kubernetes Secret to\
                          \ get value from"
                        type: "string"
                    type: "object"
                  clientSecret:
                    description: "The OAuth2 client Secret"
                    type: "string"
                  clientSecretFrom:
                    description: "A reference to a namespace Kubernetes Secret to\
                      \ get the OAuth2 client Secret value from"
                    properties:
                      secretKey:
                        description: "The key in referenced Secret to get the value\
                          \ from"
                        type: "string"
                      secretRef:
                        description: "The name of a namespace Kubernetes Secret to\
                          \ get value from"
                        type: "string"
                    type: "object"
                  grantType:
                    description: "The OAuth Grant Type flow to apply for getting the\
                      \ token"
                    type: "string"
                  password:
                    description: "Optional. The password to use for the OAuth2 client"
                    type: "string"
                  passwordFrom:
                    description: "Optional. A reference to a a namespace Kubernetes\
                      \ Secret to get the password to use for the OAuth2 client"
                    properties:
                      secretKey:
                        description: "The key in referenced Secret to get the value\
                          \ from"
                        type: "string"
                      secretRef:
                        description: "The name of a namespace Kubernetes Secret to\
                          \ get value from"
                        type: "string"
                    type: "object"
                  refreshToken:
                    description: "Optional. The refreshToken to use for obtaining\
                      \ a new OAuth2 token"
                    type: "string"
                  refreshTokenFrom:
                    description: "Optional. A reference to a a namespace Kubernetes\
                      \ Secret to get the refreshToken to use for obtaining a new\
                      \ OAuth2 token"
                    properties:
                      secretKey:
                        description: "The key in referenced Secret to get the value\
                          \ from"
                        type: "string"
                      secretRef:
                        description: "The name of a namespace Kubernetes Secret to\
                          \ get value from"
                        type: "string"
                    type: "object"
                  scopes:
                    description: "Optional. The OAuth2 scopes to use for negotiating\
                      \ the token"
                    type: "string"
                  tokenUri:
                    description: "The IDP URI where to get the OAuth2 token"
                    type: "string"
                  username:
                    description: "Optional. The username to use for the OAuth2 client"
                    type: "string"
                  usernameFrom:
                    description: "Optional. A reference to a a namespace Kubernetes\
                      \ Secret to get the username to use for the OAuth2 client"
                    properties:
                      secretKey:
                        description: "The key in referenced Secret to get the value\
                          \ from"
                        type: "string"
                      secretRef:
                        description: "The name of a namespace Kubernetes Secret to\
                          \ get value from"
                        type: "string"
                    type: "object"
                type: "object"
              operationsHeaders:
                additionalProperties:
                  additionalProperties:
                    type: "string"
                  type: "object"
                description: "An optional 2-levels map of headers to set for each\
                  \ operation"
                type: "object"
              retentionPolicy:
                description: "The retention policy to use for this Test resource in\
                  \ Kubernetes. Default is Retain."
                enum:
                - "Delete"
                - "DeleteOnSuccess"
                - "Retain"
                type: "string"
              runnerType:
                description: "The runner to use for this test"
                type: "string"
              secretRef:
                description: "Reference to a Secret for accessing the test endpoint"
                type: "string"
              serviceId:
                description: "The API/Service identifier to test"
                type: "string"
              testEndpoint:
                description: "The implementation endpoint of API/Service to test"
                type: "string"
              timeout:
                description: "The timeout to use for this test in milliseconds. Default\
                  \ is 5000."
                type: "integer"
            type: "object"
          status:
            properties:
              id:
                description: "Test unique identifier once launched in Microcks"
                type: "string"
              message:
                type: "string"
              observedGeneration:
                description: "Reconciled generation"
                type: "integer"
              result:
                description: "Result of the test in Microcks"
                enum:
                - "FAILURE"
                - "IN_PROGRESS"
                - "SUCCESS"
                type: "string"
              status:
                description: "Global status of the reconciliation"
                enum:
                - "DEPLOYING"
                - "ERROR"
                - "PREEXISTING"
                - "READY"
                - "UNKNOWN"
                type: "string"
              url:
                description: "URL to get access the test result in Microcks UI"
                type: "string"
            type: "object"
        type: "object"
    served: true
    storage: true
    subresources:
      status: {}
